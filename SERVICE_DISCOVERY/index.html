<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Comprehensive documentation for the Zamaz Zero Trust Authentication Platform with Service Discovery, Istio Service Mesh, and Modern CI/CD"><meta name=author content="Zamaz Development Team"><link href=https://zamaz.github.io/root-zamaz/SERVICE_DISCOVERY/ rel=canonical><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.3"><title>Service Discovery Architecture - Zamaz Zero Trust Platform</title><link rel=stylesheet href=../assets/stylesheets/main.50c56a3b.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../css/timeago.css><link rel=stylesheet href=../assets/stylesheets/extra.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script> <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#service-discovery-architecture class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="Zamaz Zero Trust Platform" class="md-header__button md-logo" aria-label="Zamaz Zero Trust Platform" data-md-component=logo> <img src=../assets/images/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Zamaz Zero Trust Platform </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Service Discovery Architecture </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=blue-grey data-md-color-accent=blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue-grey data-md-color-accent=blue aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/zamaz/root-zamaz title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> zamaz/root-zamaz </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../getting-started/quick-start/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../architecture/overview/ class=md-tabs__link> Architecture </a> </li> <li class=md-tabs__item> <a href=../api/ class=md-tabs__link> API Documentation </a> </li> <li class=md-tabs__item> <a href=../development/ class=md-tabs__link> Development </a> </li> <li class=md-tabs__item> <a href=../deployment/README.md class=md-tabs__link> Deployment </a> </li> <li class=md-tabs__item> <a href=../security/README.md class=md-tabs__link> Security </a> </li> <li class=md-tabs__item> <a href=../troubleshooting/ class=md-tabs__link> Operations </a> </li> <li class=md-tabs__item> <a href=../testing/e2e-testing-guide/ class=md-tabs__link> Testing </a> </li> <li class=md-tabs__item> <a href=../sdk/go/ class=md-tabs__link> SDKs </a> </li> <li class=md-tabs__item> <a href=../cli/ class=md-tabs__link> CLI </a> </li> <li class=md-tabs__item> <a href=../examples/ class=md-tabs__link> Examples </a> </li> <li class=md-tabs__item> <a href=../schema/ class=md-tabs__link> Database Schema </a> </li> <li class=md-tabs__item> <a href=../reference/tags/ class=md-tabs__link> Reference </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Zamaz Zero Trust Platform" class="md-nav__button md-logo" aria-label="Zamaz Zero Trust Platform" data-md-component=logo> <img src=../assets/images/logo.svg alt=logo> </a> Zamaz Zero Trust Platform </label> <div class=md-nav__source> <a href=https://github.com/zamaz/root-zamaz title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> zamaz/root-zamaz </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../getting-started/quick-start/ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class=md-nav__item> <a href=../getting-started/installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../getting-started/configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Architecture </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../architecture/overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../architecture/security/ class=md-nav__link> <span class=md-ellipsis> Security </span> </a> </li> <li class=md-nav__item> <a href=../architecture/zero-trust/ class=md-nav__link> <span class=md-ellipsis> Zero Trust </span> </a> </li> <li class=md-nav__item> <a href=../architecture/observability/ class=md-nav__link> <span class=md-ellipsis> Observability </span> </a> </li> <li class=md-nav__item> <a href=../architecture/service-discovery/ class=md-nav__link> <span class=md-ellipsis> Service Discovery </span> </a> </li> <li class=md-nav__item> <a href=../architecture/security-diagrams/ class=md-nav__link> <span class=md-ellipsis> Security Diagrams </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> API Documentation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> API Documentation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../api/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../api/authentication/ class=md-nav__link> <span class=md-ellipsis> Authentication </span> </a> </li> <li class=md-nav__item> <a href=../api/devices/ class=md-nav__link> <span class=md-ellipsis> Devices </span> </a> </li> <li class=md-nav__item> <a href=../api/openapi.yaml class=md-nav__link> <span class=md-ellipsis> OpenAPI Spec </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Development </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../development/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../development/setup/ class=md-nav__link> <span class=md-ellipsis> Setup </span> </a> </li> <li class=md-nav__item> <a href=../development/testing/ class=md-nav__link> <span class=md-ellipsis> Testing </span> </a> </li> <li class=md-nav__item> <a href=../development/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> <li class=md-nav__item> <a href=../development/code-style/ class=md-nav__link> <span class=md-ellipsis> Code Style </span> </a> </li> <li class=md-nav__item> <a href=../development/cli/ class=md-nav__link> <span class=md-ellipsis> CLI </span> </a> </li> <li class=md-nav__item> <a href=../development/project-structure/ class=md-nav__link> <span class=md-ellipsis> Project Structure </span> </a> </li> <li class=md-nav__item> <a href=../development/api-documentation/ class=md-nav__link> <span class=md-ellipsis> API Documentation </span> </a> </li> <li class=md-nav__item> <a href=../development/sdk_generation/ class=md-nav__link> <span class=md-ellipsis> SDK Generation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex> <span class=md-ellipsis> Deployment </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Deployment </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../deployment/README.md class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../deployment/docker/ class=md-nav__link> <span class=md-ellipsis> Docker </span> </a> </li> <li class=md-nav__item> <a href=../deployment/kubernetes/ class=md-nav__link> <span class=md-ellipsis> Kubernetes </span> </a> </li> <li class=md-nav__item> <a href=../deployment/production/ class=md-nav__link> <span class=md-ellipsis> Production </span> </a> </li> <li class=md-nav__item> <a href=../deployment/security/ class=md-nav__link> <span class=md-ellipsis> Security </span> </a> </li> <li class=md-nav__item> <a href=../deployment/gitops.md class=md-nav__link> <span class=md-ellipsis> GitOps </span> </a> </li> <li class=md-nav__item> <a href=../deployment/DEPLOYMENT_RUNBOOK/ class=md-nav__link> <span class=md-ellipsis> Runbook </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex> <span class=md-ellipsis> Security </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../security/README.md class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../security/threat-model/ class=md-nav__link> <span class=md-ellipsis> Threat Model </span> </a> </li> <li class=md-nav__item> <a href=../security/policies/ class=md-nav__link> <span class=md-ellipsis> Policies </span> </a> </li> <li class=md-nav__item> <a href=../security/incident-response/ class=md-nav__link> <span class=md-ellipsis> Incident Response </span> </a> </li> <li class=md-nav__item> <a href=../security/security-scanning-setup/ class=md-nav__link> <span class=md-ellipsis> Security Scanning </span> </a> </li> <li class=md-nav__item> <a href=../security/SECURITY-SCANNING-QUICK-REFERENCE/ class=md-nav__link> <span class=md-ellipsis> Quick Reference </span> </a> </li> <li class=md-nav__item> <a href=../security/playbooks/ class=md-nav__link> <span class=md-ellipsis> Playbooks </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex> <span class=md-ellipsis> Operations </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Operations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> </li> <li class=md-nav__item> <a href=../GITOPS_IMPLEMENTATION_PLAN/ class=md-nav__link> <span class=md-ellipsis> GitOps Implementation </span> </a> </li> <li class=md-nav__item> <a href=../GITOPS_QUICKSTART/ class=md-nav__link> <span class=md-ellipsis> GitOps Quickstart </span> </a> </li> <li class=md-nav__item> <a href=../PRODUCTION_READINESS_CHECKLIST/ class=md-nav__link> <span class=md-ellipsis> Production Readiness </span> </a> </li> <li class=md-nav__item> <a href=../ISTIO_MIGRATION_GUIDE/ class=md-nav__link> <span class=md-ellipsis> Istio Migration </span> </a> </li> <li class=md-nav__item> <a href=../HELM_CHARTS_REFERENCE/ class=md-nav__link> <span class=md-ellipsis> Helm Charts </span> </a> </li> <li class=md-nav__item> <a href=../CI_CD_PIPELINE/ class=md-nav__link> <span class=md-ellipsis> CI/CD Pipeline </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex> <span class=md-ellipsis> Testing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Testing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../testing/e2e-testing-guide/ class=md-nav__link> <span class=md-ellipsis> E2E Testing </span> </a> </li> <li class=md-nav__item> <a href=../../tests/test-scenarios.md class=md-nav__link> <span class=md-ellipsis> Test Scenarios </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_10> <label class=md-nav__link for=__nav_10 id=__nav_10_label tabindex> <span class=md-ellipsis> SDKs </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> SDKs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../sdk/go/ class=md-nav__link> <span class=md-ellipsis> Go SDK </span> </a> </li> <li class=md-nav__item> <a href=../sdk/javascript/ class=md-nav__link> <span class=md-ellipsis> JavaScript SDK </span> </a> </li> <li class=md-nav__item> <a href=../sdk/python/ class=md-nav__link> <span class=md-ellipsis> Python SDK </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_11> <label class=md-nav__link for=__nav_11 id=__nav_11_label tabindex> <span class=md-ellipsis> CLI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_11_label aria-expanded=false> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> CLI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../cli/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12> <label class=md-nav__link for=__nav_12 id=__nav_12_label tabindex> <span class=md-ellipsis> Examples </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_12_label aria-expanded=false> <label class=md-nav__title for=__nav_12> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../examples/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../examples/backend/go-fiber/ class=md-nav__link> <span class=md-ellipsis> Backend Examples </span> </a> </li> <li class=md-nav__item> <a href=../examples/frontend/react-spa/ class=md-nav__link> <span class=md-ellipsis> Frontend Examples </span> </a> </li> <li class=md-nav__item> <a href=../examples/infrastructure/kubernetes/ class=md-nav__link> <span class=md-ellipsis> Infrastructure Examples </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_13> <label class=md-nav__link for=__nav_13 id=__nav_13_label tabindex> <span class=md-ellipsis> Database Schema </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_13_label aria-expanded=false> <label class=md-nav__title for=__nav_13> <span class="md-nav__icon md-icon"></span> Database Schema </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../schema/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_13_2> <label class=md-nav__link for=__nav_13_2 id=__nav_13_2_label tabindex> <span class=md-ellipsis> Domain Architecture </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_13_2_label aria-expanded=false> <label class=md-nav__title for=__nav_13_2> <span class="md-nav__icon md-icon"></span> Domain Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../schema/auth-domain/ class=md-nav__link> <span class=md-ellipsis> Authentication & Authorization </span> </a> </li> <li class=md-nav__item> <a href=../schema/security-domain/ class=md-nav__link> <span class=md-ellipsis> Security & Monitoring </span> </a> </li> <li class=md-nav__item> <a href=../schema/zero-trust-domain/ class=md-nav__link> <span class=md-ellipsis> Zero Trust & Device Security </span> </a> </li> <li class=md-nav__item> <a href=../schema/compliance-domain/ class=md-nav__link> <span class=md-ellipsis> Compliance & Data Governance </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_13_3> <label class=md-nav__link for=__nav_13_3 id=__nav_13_3_label tabindex> <span class=md-ellipsis> Table Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_13_3_label aria-expanded=false> <label class=md-nav__title for=__nav_13_3> <span class="md-nav__icon md-icon"></span> Table Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../schema/public.users/ class=md-nav__link> <span class=md-ellipsis> Users </span> </a> </li> <li class=md-nav__item> <a href=../schema/public.roles/ class=md-nav__link> <span class=md-ellipsis> Roles & Permissions </span> </a> </li> <li class=md-nav__item> <a href=../schema/public.user_sessions/ class=md-nav__link> <span class=md-ellipsis> Sessions </span> </a> </li> <li class=md-nav__item> <a href=../schema/public.device_attestations/ class=md-nav__link> <span class=md-ellipsis> Device Attestations </span> </a> </li> <li class=md-nav__item> <a href=../schema/public.audit_logs/ class=md-nav__link> <span class=md-ellipsis> Audit Logs </span> </a> </li> <li class=md-nav__item> <a href=../schema/public.login_attempts/ class=md-nav__link> <span class=md-ellipsis> Login Attempts </span> </a> </li> <li class=md-nav__item> <a href=../schema/public.compliance_audit_logs/ class=md-nav__link> <span class=md-ellipsis> Compliance Logs </span> </a> </li> <li class=md-nav__item> <a href=../schema/public.data_subject_requests/ class=md-nav__link> <span class=md-ellipsis> Data Subject Requests </span> </a> </li> <li class=md-nav__item> <a href=../schema/public.consent_records/ class=md-nav__link> <span class=md-ellipsis> Consent Records </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_14> <label class=md-nav__link for=__nav_14 id=__nav_14_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_14_label aria-expanded=false> <label class=md-nav__title for=__nav_14> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/tags/ class=md-nav__link> <span class=md-ellipsis> Tags </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/zamaz/root-zamaz/edit/main/docs/SERVICE_DISCOVERY.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <a href=https://github.com/zamaz/root-zamaz/raw/main/docs/SERVICE_DISCOVERY.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg> </a> <h1 id=service-discovery-architecture>Service Discovery Architecture<a class=headerlink href=#service-discovery-architecture title="Permanent link">&para;</a></h1> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p>The Zamaz application implements a comprehensive service discovery system that works across multiple environments and service registry providers. This system ensures that frontend applications can dynamically discover and connect to backend services regardless of the deployment environment.</p> <h2 id=architecture-components>Architecture Components<a class=headerlink href=#architecture-components title="Permanent link">&para;</a></h2> <h3 id=1-service-registry-interface-pkgdiscoveryregistrygo>1. Service Registry Interface (<code>pkg/discovery/registry.go</code>)<a class=headerlink href=#1-service-registry-interface-pkgdiscoveryregistrygo title="Permanent link">&para;</a></h3> <p>The core service registry interface provides a pluggable architecture:</p> <div class="language-go highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=kd>type</span><span class=w> </span><span class=nx>ServiceRegistry</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=w>    </span><span class=nx>Register</span><span class=p>(</span><span class=nx>ctx</span><span class=w> </span><span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=p>,</span><span class=w> </span><span class=nx>service</span><span class=w> </span><span class=o>*</span><span class=nx>Service</span><span class=p>)</span><span class=w> </span><span class=kt>error</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=w>    </span><span class=nx>Deregister</span><span class=p>(</span><span class=nx>ctx</span><span class=w> </span><span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=p>,</span><span class=w> </span><span class=nx>serviceID</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=w> </span><span class=kt>error</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=w>    </span><span class=nx>Discover</span><span class=p>(</span><span class=nx>ctx</span><span class=w> </span><span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=p>,</span><span class=w> </span><span class=nx>serviceName</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=w> </span><span class=p>([]</span><span class=o>*</span><span class=nx>Service</span><span class=p>,</span><span class=w> </span><span class=kt>error</span><span class=p>)</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=w>    </span><span class=nx>Watch</span><span class=p>(</span><span class=nx>ctx</span><span class=w> </span><span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=p>,</span><span class=w> </span><span class=nx>serviceName</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=w> </span><span class=p>(</span><span class=o>&lt;-</span><span class=kd>chan</span><span class=w> </span><span class=nx>ServiceEvent</span><span class=p>,</span><span class=w> </span><span class=kt>error</span><span class=p>)</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=w>    </span><span class=nx>Health</span><span class=p>()</span><span class=w> </span><span class=kt>error</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=w>    </span><span class=nx>Close</span><span class=p>()</span><span class=w> </span><span class=kt>error</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=p>}</span>
</span></code></pre></div> <h3 id=2-service-registry-implementations>2. Service Registry Implementations<a class=headerlink href=#2-service-registry-implementations title="Permanent link">&para;</a></h3> <h4 id=consul-registry-pkgdiscoveryconsulgo>Consul Registry (<code>pkg/discovery/consul.go</code>)<a class=headerlink href=#consul-registry-pkgdiscoveryconsulgo title="Permanent link">&para;</a></h4> <ul> <li>Uses HashiCorp Consul for service registration and discovery</li> <li>Provides health checking and automatic deregistration</li> <li>Supports service watching for real-time updates</li> <li>Load balancing with multiple strategies</li> </ul> <h4 id=kubernetes-registry-pkgdiscoverykubernetesgo>Kubernetes Registry (<code>pkg/discovery/kubernetes.go</code>)<a class=headerlink href=#kubernetes-registry-pkgdiscoverykubernetesgo title="Permanent link">&para;</a></h4> <ul> <li>Native Kubernetes service discovery via DNS</li> <li>Headless service support for direct pod access</li> <li>Integration with Kubernetes health checks</li> <li>Automatic endpoint discovery</li> </ul> <h3 id=3-frontend-service-discovery-frontendsrcconfigservice-discoveryts>3. Frontend Service Discovery (<code>frontend/src/config/service-discovery.ts</code>)<a class=headerlink href=#3-frontend-service-discovery-frontendsrcconfigservice-discoveryts title="Permanent link">&para;</a></h3> <p>The frontend implements intelligent service discovery that:</p> <ul> <li><strong>Auto-detects environment</strong>: Kubernetes, Consul, or static configuration</li> <li><strong>Health monitoring</strong>: Periodic health checks of discovered endpoints</li> <li><strong>Load balancing</strong>: Round-robin, random, and least-connections strategies</li> <li><strong>Fallback mechanisms</strong>: Graceful degradation when services are unavailable</li> <li><strong>Dynamic endpoint updates</strong>: Real-time endpoint refreshing</li> </ul> <h2 id=frontend-service-discovery-flow>Frontend Service Discovery Flow<a class=headerlink href=#frontend-service-discovery-flow title="Permanent link">&para;</a></h2> <div class="language-typescript highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1>// Detection Logic</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>isKubernetesEnvironment</span><span class=p>())</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>    </span><span class=c1>// Use Kubernetes DNS resolution</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>    </span><span class=nx>endpoints</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>getKubernetesEndpoints</span><span class=p>()</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>isConsulAvailable</span><span class=p>())</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>    </span><span class=c1>// Use Consul service discovery</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>    </span><span class=nx>endpoints</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>getConsulEndpoints</span><span class=p>()</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=w>    </span><span class=c1>// Fall back to static configuration</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=w>    </span><span class=nx>endpoints</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>getStaticEndpoints</span><span class=p>()</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=p>}</span>
</span></code></pre></div> <h3 id=environment-detection>Environment Detection<a class=headerlink href=#environment-detection title="Permanent link">&para;</a></h3> <h4 id=kubernetes-environment>Kubernetes Environment<a class=headerlink href=#kubernetes-environment title="Permanent link">&para;</a></h4> <ul> <li>Checks for <code>*.cluster.local</code> or <code>*.svc</code> in hostname</li> <li>Looks for Kubernetes environment variables (<code>VITE_KUBERNETES_SERVICE_HOST</code>)</li> <li>Detects mounted service account tokens</li> </ul> <h4 id=consul-environment>Consul Environment<a class=headerlink href=#consul-environment title="Permanent link">&para;</a></h4> <ul> <li>Checks for Consul host configuration (<code>VITE_CONSUL_HOST</code>)</li> <li>Validates Consul API availability</li> <li>Tests DNS resolution for <code>.service.consul</code> domains</li> </ul> <h4 id=staticdevelopment-environment>Static/Development Environment<a class=headerlink href=#staticdevelopment-environment title="Permanent link">&para;</a></h4> <ul> <li>Uses environment variables (<code>VITE_API_HOST</code>)</li> <li>Defaults to localhost for development</li> <li>Supports manual endpoint configuration</li> </ul> <h2 id=enhanced-api-client-frontendsrcservicesapi-enhancedts>Enhanced API Client (<code>frontend/src/services/api-enhanced.ts</code>)<a class=headerlink href=#enhanced-api-client-frontendsrcservicesapi-enhancedts title="Permanent link">&para;</a></h2> <p>The enhanced API client provides:</p> <h3 id=circuit-breaker-pattern>Circuit Breaker Pattern<a class=headerlink href=#circuit-breaker-pattern title="Permanent link">&para;</a></h3> <div class="language-typescript highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=kd>class</span><span class=w> </span><span class=nx>CircuitBreaker</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=w>    </span><span class=k>private</span><span class=w> </span><span class=nx>state</span><span class=o>:</span><span class=w> </span><span class=kt>CLOSED</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>OPEN</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>HALF_OPEN</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=w>    </span><span class=k>private</span><span class=w> </span><span class=nx>failureCount</span><span class=o>:</span><span class=w> </span><span class=kt>number</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=w>    </span><span class=k>private</span><span class=w> </span><span class=nx>lastFailureTime</span><span class=o>:</span><span class=w> </span><span class=kt>number</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=w>    </span><span class=k>async</span><span class=w> </span><span class=nx>execute</span><span class=o>&lt;</span><span class=nx>T</span><span class=o>&gt;</span><span class=p>(</span><span class=nx>fn</span><span class=o>:</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>T</span><span class=o>&gt;</span><span class=p>)</span><span class=o>:</span><span class=w> </span><span class=nb>Promise</span><span class=o>&lt;</span><span class=nx>T</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=w>        </span><span class=c1>// Circuit breaker logic with failure tracking</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=w>        </span><span class=c1>// Automatic recovery attempts after timeout</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=p>}</span>
</span></code></pre></div> <h3 id=retry-logic-with-exponential-backoff>Retry Logic with Exponential Backoff<a class=headerlink href=#retry-logic-with-exponential-backoff title="Permanent link">&para;</a></h3> <ul> <li>Configurable retry attempts (default: 3)</li> <li>Exponential backoff delay calculation</li> <li>Conditional retry based on error type</li> <li>Alternative endpoint switching on retry</li> </ul> <h3 id=dynamic-endpoint-switching>Dynamic Endpoint Switching<a class=headerlink href=#dynamic-endpoint-switching title="Permanent link">&para;</a></h3> <ul> <li>Real-time endpoint health monitoring</li> <li>Automatic failover to healthy endpoints</li> <li>Load balancing across available services</li> <li>Correlation ID tracking for distributed tracing</li> </ul> <h2 id=kubernetes-deployment-configuration>Kubernetes Deployment Configuration<a class=headerlink href=#kubernetes-deployment-configuration title="Permanent link">&para;</a></h2> <h3 id=frontend-deployment-k8sfrontenddeploymentyaml>Frontend Deployment (<code>k8s/frontend/deployment.yaml</code>)<a class=headerlink href=#frontend-deployment-k8sfrontenddeploymentyaml title="Permanent link">&para;</a></h3> <p>Key service discovery features:</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=nt>env</span><span class=p>:</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">VITE_K8S_NAMESPACE</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=w>  </span><span class=nt>valueFrom</span><span class=p>:</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=w>    </span><span class=nt>fieldRef</span><span class=p>:</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=w>      </span><span class=nt>fieldPath</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">metadata.namespace</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">VITE_API_SERVICE_NAME</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=w>  </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s>&quot;zamaz-api-service&quot;</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">VITE_SERVICE_DISCOVERY_ENABLED</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=w>  </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s>&quot;true&quot;</span>
</span></code></pre></div> <h3 id=service-configuration-k8sfrontendserviceyaml>Service Configuration (<code>k8s/frontend/service.yaml</code>)<a class=headerlink href=#service-configuration-k8sfrontendserviceyaml title="Permanent link">&para;</a></h3> <p>Includes ConfigMaps for: - Dynamic configuration injection - Nginx proxy rules with service discovery - Health check endpoints - CORS and security headers</p> <h3 id=istio-integration-k8sfrontendingressyaml>Istio Integration (<code>k8s/frontend/ingress.yaml</code>)<a class=headerlink href=#istio-integration-k8sfrontendingressyaml title="Permanent link">&para;</a></h3> <p>Advanced traffic management: - <strong>VirtualService</strong>: Intelligent routing with retry policies - <strong>DestinationRule</strong>: Circuit breaker configuration at mesh level - <strong>Gateway</strong>: TLS termination and security policies - <strong>EnvoyFilter</strong>: Custom proxy behaviors</p> <h2 id=make-commands>Make Commands<a class=headerlink href=#make-commands title="Permanent link">&para;</a></h2> <p>The Makefile provides comprehensive service discovery management:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=c1># Deploy frontend with service discovery</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>make<span class=w> </span>k8s-frontend-deploy
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=c1># Check deployment status</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>make<span class=w> </span>k8s-frontend-status
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=c1># Test service discovery functionality</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>make<span class=w> </span>k8s-test-discovery
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=c1># Complete deployment pipeline</span>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a>make<span class=w> </span>k8s-frontend-complete
</span></code></pre></div> <h2 id=configuration-examples>Configuration Examples<a class=headerlink href=#configuration-examples title="Permanent link">&para;</a></h2> <h3 id=development-environment-envlocal>Development Environment (.env.local)<a class=headerlink href=#development-environment-envlocal title="Permanent link">&para;</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=nv>VITE_API_HOST</span><span class=o>=</span>localhost
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=nv>VITE_API_PORT</span><span class=o>=</span><span class=m>3001</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=nv>VITE_SERVICE_DISCOVERY_ENABLED</span><span class=o>=</span><span class=nb>false</span>
</span></code></pre></div> <h3 id=kubernetes-environment_1>Kubernetes Environment<a class=headerlink href=#kubernetes-environment_1 title="Permanent link">&para;</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=nv>VITE_K8S_NAMESPACE</span><span class=o>=</span>zamaz
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=nv>VITE_API_SERVICE_NAME</span><span class=o>=</span>zamaz-api-service
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=nv>VITE_SERVICE_DISCOVERY_ENABLED</span><span class=o>=</span><span class=nb>true</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=nv>VITE_CONSUL_ENABLED</span><span class=o>=</span><span class=nb>true</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=nv>VITE_ENABLE_CIRCUIT_BREAKER</span><span class=o>=</span><span class=nb>true</span>
</span></code></pre></div> <h3 id=consul-environment_1>Consul Environment<a class=headerlink href=#consul-environment_1 title="Permanent link">&para;</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=nv>VITE_CONSUL_HOST</span><span class=o>=</span>consul.service.consul
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=nv>VITE_CONSUL_API_URL</span><span class=o>=</span>http://consul.consul.svc.cluster.local:8500
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=nv>VITE_SERVICE_DISCOVERY_PROVIDER</span><span class=o>=</span>consul
</span></code></pre></div> <h2 id=health-monitoring>Health Monitoring<a class=headerlink href=#health-monitoring title="Permanent link">&para;</a></h2> <h3 id=frontend-health-checks>Frontend Health Checks<a class=headerlink href=#frontend-health-checks title="Permanent link">&para;</a></h3> <ul> <li><code>/health</code>: Basic container health</li> <li><code>/ready</code>: Service dependency readiness</li> <li>Periodic API endpoint validation</li> <li>Service discovery endpoint monitoring</li> </ul> <h3 id=backend-integration>Backend Integration<a class=headerlink href=#backend-integration title="Permanent link">&para;</a></h3> <ul> <li>Consul health check registration</li> <li>Kubernetes readiness/liveness probes</li> <li>Istio service mesh health validation</li> <li>Custom health check endpoints</li> </ul> <h2 id=load-balancing-strategies>Load Balancing Strategies<a class=headerlink href=#load-balancing-strategies title="Permanent link">&para;</a></h2> <h3 id=round-robin-default>Round Robin (Default)<a class=headerlink href=#round-robin-default title="Permanent link">&para;</a></h3> <ul> <li>Equal distribution across healthy endpoints</li> <li>Maintains endpoint index state</li> <li>Automatic failure detection and recovery</li> </ul> <h3 id=random>Random<a class=headerlink href=#random title="Permanent link">&para;</a></h3> <ul> <li>Random endpoint selection</li> <li>Good for stateless services</li> <li>Reduces hot spotting</li> </ul> <h3 id=weighted>Weighted<a class=headerlink href=#weighted title="Permanent link">&para;</a></h3> <ul> <li>Priority-based endpoint selection</li> <li>Supports service tiers (primary/secondary)</li> <li>Graceful traffic shaping</li> </ul> <h2 id=monitoring-and-observability>Monitoring and Observability<a class=headerlink href=#monitoring-and-observability title="Permanent link">&para;</a></h2> <h3 id=correlation-ids>Correlation IDs<a class=headerlink href=#correlation-ids title="Permanent link">&para;</a></h3> <ul> <li>Unique request tracking across services</li> <li>Distributed tracing support</li> <li>Error correlation and debugging</li> </ul> <h3 id=metrics-collection>Metrics Collection<a class=headerlink href=#metrics-collection title="Permanent link">&para;</a></h3> <ul> <li>Service discovery success/failure rates</li> <li>Endpoint health check latencies</li> <li>Circuit breaker state transitions</li> <li>Load balancing distribution metrics</li> </ul> <h3 id=logging>Logging<a class=headerlink href=#logging title="Permanent link">&para;</a></h3> <ul> <li>Service discovery events</li> <li>Health check results</li> <li>Endpoint switching decisions</li> <li>Error tracking with context</li> </ul> <h2 id=security-considerations>Security Considerations<a class=headerlink href=#security-considerations title="Permanent link">&para;</a></h2> <h3 id=network-policies>Network Policies<a class=headerlink href=#network-policies title="Permanent link">&para;</a></h3> <ul> <li>Restrict service-to-service communication</li> <li>Namespace isolation</li> <li>Ingress/egress traffic controls</li> </ul> <h3 id=mtls-with-istio>mTLS with Istio<a class=headerlink href=#mtls-with-istio title="Permanent link">&para;</a></h3> <ul> <li>Automatic certificate management</li> <li>Service-to-service encryption</li> <li>Identity-based authorization</li> </ul> <h3 id=rbac-configuration>RBAC Configuration<a class=headerlink href=#rbac-configuration title="Permanent link">&para;</a></h3> <ul> <li>Service account permissions</li> <li>API server access controls</li> <li>Resource-specific permissions</li> </ul> <h2 id=troubleshooting>Troubleshooting<a class=headerlink href=#troubleshooting title="Permanent link">&para;</a></h2> <h3 id=common-issues>Common Issues<a class=headerlink href=#common-issues title="Permanent link">&para;</a></h3> <ol> <li><strong>DNS Resolution Failures</strong></li> <li>Check Kubernetes DNS configuration</li> <li>Verify service names and namespaces</li> <li> <p>Test with <code>nslookup</code> from pods</p> </li> <li> <p><strong>Health Check Failures</strong></p> </li> <li>Validate endpoint URLs</li> <li>Check network connectivity</li> <li> <p>Review timeout configurations</p> </li> <li> <p><strong>Circuit Breaker Activation</strong></p> </li> <li>Monitor failure thresholds</li> <li>Check backend service health</li> <li>Review retry configurations</li> </ol> <h3 id=debugging-commands>Debugging Commands<a class=headerlink href=#debugging-commands title="Permanent link">&para;</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=c1># Test DNS resolution</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>kubectl<span class=w> </span><span class=nb>exec</span><span class=w> </span>-it<span class=w> </span>&lt;pod&gt;<span class=w> </span>--<span class=w> </span>nslookup<span class=w> </span>zamaz-api-service.zamaz.svc.cluster.local
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=c1># Check service endpoints</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>kubectl<span class=w> </span>get<span class=w> </span>endpoints<span class=w> </span>-n<span class=w> </span>zamaz
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=c1># Monitor health checks</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>kubectl<span class=w> </span>logs<span class=w> </span>-n<span class=w> </span>zamaz<span class=w> </span>-l<span class=w> </span><span class=nv>app</span><span class=o>=</span>zamaz-frontend<span class=w> </span>--tail<span class=o>=</span><span class=m>100</span>
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=c1># Test API connectivity</span>
</span><span id=__span-8-11><a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a>kubectl<span class=w> </span><span class=nb>exec</span><span class=w> </span>-it<span class=w> </span>&lt;pod&gt;<span class=w> </span>--<span class=w> </span>wget<span class=w> </span>-qO-<span class=w> </span>http://zamaz-api-service.zamaz.svc.cluster.local:8080/health
</span></code></pre></div> <h2 id=future-enhancements>Future Enhancements<a class=headerlink href=#future-enhancements title="Permanent link">&para;</a></h2> <h3 id=planned-features>Planned Features<a class=headerlink href=#planned-features title="Permanent link">&para;</a></h3> <ul> <li>Service mesh integration with Linkerd</li> <li>Advanced traffic shaping policies</li> <li>Multi-cluster service discovery</li> <li>Service dependency mapping</li> <li>Automated canary deployments</li> </ul> <h3 id=integration-roadmap>Integration Roadmap<a class=headerlink href=#integration-roadmap title="Permanent link">&para;</a></h3> <ul> <li>HashiCorp Vault integration for secrets</li> <li>Prometheus metrics collection</li> <li>Grafana dashboard creation</li> <li>Alert manager configuration</li> <li>Jaeger distributed tracing</li> </ul> <p>This service discovery architecture provides a robust, scalable foundation for microservices communication across diverse deployment environments while maintaining high availability and observability.</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2025-06-20T13:22:03+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2025-06-20</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2025-06-20T13:22:03+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2025-06-20</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 Zamaz Development Team </div> </div> <div class=md-social> <a href=https://github.com/zamaz/root-zamaz target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://hub.docker.com/r/zamaz/root-zamaz target=_blank rel=noopener title=hub.docker.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.path", "navigation.top", "navigation.tracking", "search.suggest", "search.highlight", "search.share", "header.autohide", "content.code.copy", "content.code.select", "content.code.annotate", "content.tabs.link", "content.tooltips", "content.action.edit", "content.action.view", "toc.follow", "toc.integrate"], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script> <script src=../assets/javascripts/bundle.d7c377c4.min.js></script> <script src=../js/timeago.min.js></script> <script src=../js/timeago_mkdocs_material.js></script> <script src=../assets/javascripts/mathjax.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body> </html>