🔨 Building authentication server...
✅ Server build completed
🚀 Starting authentication server...
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","address":"0.0.0.0:8080","time":"2025-06-17T21:33:52-04:00","message":"Starting HTTP server"}

 ┌───────────────────────────────────────────────────┐ 
 │                   Fiber v2.52.8                   │ 
 │               http://127.0.0.1:8080               │ 
 │       (bound on host 0.0.0.0 and port 8080)       │ 
 │                                                   │ 
 │ Handlers ............ 58  Processes ........... 1 │ 
 │ Prefork ....... Disabled  PID ............. 89897 │ 
 └───────────────────────────────────────────────────┘ 

{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"245dd3bb-e733-4d6c-aba6-ea1683dcf77b","method":"GET","path":"/metrics","status":200,"latency":0.072958,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"e1ad2b58929ebae6a3f66a96b7f49de4","time":"2025-06-17T21:33:55-04:00","message":"HTTP Request"}

2025/06/17 21:33:55 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[12.485ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:33:55.632',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:33:55-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","username":"testuser","time":"2025-06-17T21:34:00-04:00","message":"Login successful - SIMPLIFIED AUTH MODE (no validation)"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"0ebe2a56-fc4d-4d3a-affd-eda13b344f18","method":"POST","path":"/api/auth/login","status":200,"latency":0.195792,"client_ip":"127.0.0.1","user_agent":"curl/8.7.1","tenant_id":"","trace_id":"9b45cc85b9e5fa8eedb3c1353589b671","time":"2025-06-17T21:34:00-04:00","message":"HTTP Request"}

2025/06/17 21:34:00 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[2.858ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:34:00.453',NULL,'POST /api/auth/login','api','{"duration_ms":0,"method":"POST","path":"/api/auth/login","status_code":200}','127.0.0.1','curl/8.7.1','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:34:00-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","username":"testuser","time":"2025-06-17T21:34:19-04:00","message":"Login successful - SIMPLIFIED AUTH MODE (no validation)"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"cc4f4a93-c314-44ec-b652-a745bb359573","method":"POST","path":"/api/auth/login","status":200,"latency":0.091458,"client_ip":"127.0.0.1","user_agent":"curl/8.7.1","tenant_id":"","trace_id":"9215e2a04e29ce6d09837f4a7fa57260","time":"2025-06-17T21:34:19-04:00","message":"HTTP Request"}

2025/06/17 21:34:19 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[1.688ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:34:19.702',NULL,'POST /api/auth/login','api','{"duration_ms":0,"method":"POST","path":"/api/auth/login","status_code":200}','127.0.0.1','curl/8.7.1','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:34:19-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"399c46a5-b2f3-472c-8539-d10ac2620151","method":"GET","path":"/metrics","status":200,"latency":0.015375,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"bca6f90c88d68d1c47b01895026cab1c","time":"2025-06-17T21:34:25-04:00","message":"HTTP Request"}

2025/06/17 21:34:25 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[1.608ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:34:25.625',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:34:25-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"e2d8be3d-6202-45f0-b4bc-1baabbee3b0f","method":"GET","path":"/metrics","status":200,"latency":0.055,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"db0bbafda9ff0b9b37ea99581a12b2c5","time":"2025-06-17T21:34:55-04:00","message":"HTTP Request"}

2025/06/17 21:34:55 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[6.310ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:34:55.63',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:34:55-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"2ab06a50-ec40-4280-813e-134024c55861","method":"GET","path":"/metrics","status":200,"latency":0.06525,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"d3714e2799e37eb7c66174abbff5be62","time":"2025-06-17T21:35:25-04:00","message":"HTTP Request"}

2025/06/17 21:35:25 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[5.389ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:35:25.629',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:35:25-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","username":"testuser","time":"2025-06-17T21:35:47-04:00","message":"Login successful - SIMPLIFIED AUTH MODE (no validation)"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"e913919f-c05f-4d6e-a8d6-a615f419b366","method":"POST","path":"/api/auth/login","status":200,"latency":0.322625,"client_ip":"127.0.0.1","user_agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","tenant_id":"","trace_id":"1a2ff1043b42ba29c4ab941bac85523d","time":"2025-06-17T21:35:47-04:00","message":"HTTP Request"}

2025/06/17 21:35:47 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[4.021ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:35:47.131',NULL,'POST /api/auth/login','api','{"duration_ms":0,"method":"POST","path":"/api/auth/login","status_code":200}','127.0.0.1','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:35:47-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"817e8148-2bd3-4622-b9b4-760ec5ca8779","method":"GET","path":"/api/devices","status":401,"latency":0.110542,"client_ip":"127.0.0.1","user_agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","tenant_id":"","trace_id":"c8651a1061affdd6715b78c25bc2db39","time":"2025-06-17T21:35:47-04:00","message":"HTTP Request"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"ac3ebe51-43e9-4f32-999e-c05fb0965473","method":"GET","path":"/api/devices","status":401,"latency":0.046583,"client_ip":"127.0.0.1","user_agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","tenant_id":"","trace_id":"7aaddba21c5ef57b1ce61ce6ca51a7a9","time":"2025-06-17T21:35:47-04:00","message":"HTTP Request"}

2025/06/17 21:35:47 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[4.322ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:35:47.147',NULL,'GET /api/devices','api','{"duration_ms":0,"method":"GET","path":"/api/devices","status_code":401}','127.0.0.1','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36','',false,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:35:47-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"ff9112ed-9769-4ea2-b543-695e0b3ae204","method":"GET","path":"/api/health","status":304,"latency":5.425042,"client_ip":"127.0.0.1","user_agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","tenant_id":"","trace_id":"9827e308b8048b98305fc02e4ad27308","time":"2025-06-17T21:35:47-04:00","message":"HTTP Request"}

2025/06/17 21:35:47 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[2.453ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:35:47.164',NULL,'GET /api/health','api','{"duration_ms":5,"method":"GET","path":"/api/health","status_code":304}','127.0.0.1','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:35:47-04:00","message":"Failed to save audit log"}

2025/06/17 21:35:47 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[45.604ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:35:47.191',NULL,'GET /api/devices','api','{"duration_ms":0,"method":"GET","path":"/api/devices","status_code":401}','127.0.0.1','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36','',false,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:35:47-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"f6d88ec1-8692-4819-b783-b44a91471545","method":"GET","path":"/metrics","status":200,"latency":0.065292,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"fa01213673ff8a72295a081a7e4cd766","time":"2025-06-17T21:35:55-04:00","message":"HTTP Request"}

2025/06/17 21:35:55 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[6.187ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:35:55.627',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:35:55-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"505bb5c2-a7b5-4084-a0bb-4d5fe456eab7","method":"GET","path":"/metrics","status":200,"latency":0.017625,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"0aa0a44c435c37cd8ffef83c9565c920","time":"2025-06-17T21:36:25-04:00","message":"HTTP Request"}

2025/06/17 21:36:25 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[3.831ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:36:25.628',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:36:25-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"0f478c47-61a5-420a-ae5d-f513bad14bb6","method":"GET","path":"/metrics","status":200,"latency":0.017375,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"3a615a7704ffd971448f368e0bfacaf6","time":"2025-06-17T21:36:55-04:00","message":"HTTP Request"}

2025/06/17 21:36:55 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[3.276ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:36:55.626',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:36:55-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"f6a03dbf-df90-4bae-959e-944233bf45e1","method":"GET","path":"/metrics","status":200,"latency":1.419792,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"9067ee044d3aef1cefd02786ca63cc26","time":"2025-06-17T21:37:25-04:00","message":"HTTP Request"}

2025/06/17 21:37:25 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[14.562ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:37:25.644',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:37:25-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"119f8c62-6bd1-42f1-b591-037a494d9223","method":"GET","path":"/metrics","status":200,"latency":0.022458,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"6a2b79a64a3abe6e010cd2188ae3b725","time":"2025-06-17T21:37:55-04:00","message":"HTTP Request"}

2025/06/17 21:37:55 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[3.533ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:37:55.629',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:37:55-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"ab8a0b2d-baee-407b-8b2b-e48d70cc2c4b","method":"GET","path":"/metrics","status":200,"latency":0.031,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"8e57620c8377a849fcb315480c2f5122","time":"2025-06-17T21:38:25-04:00","message":"HTTP Request"}

2025/06/17 21:38:25 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[3.120ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:38:25.625',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:38:25-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"605833a3-1ea2-4191-97c9-01c57ac7c663","method":"GET","path":"/metrics","status":200,"latency":0.066416,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"45def4416a5b81b226122ec6c042be30","time":"2025-06-17T21:38:55-04:00","message":"HTTP Request"}

2025/06/17 21:38:55 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[14.757ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:38:55.641',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:38:55-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"461bde1a-b2e4-4d82-bbf5-ee4039f60501","method":"GET","path":"/metrics","status":200,"latency":0.057833,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"8bf8dabe591ef4ae9da0ad332693ad82","time":"2025-06-17T21:39:25-04:00","message":"HTTP Request"}

2025/06/17 21:39:25 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[5.784ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:39:25.632',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:39:25-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"40c2c2e5-62bc-4d62-a05a-eb0d2684e13c","method":"GET","path":"/metrics","status":200,"latency":0.061708,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"5d298e3b53ef3c3df68dac6fab316242","time":"2025-06-17T21:39:55-04:00","message":"HTTP Request"}

2025/06/17 21:39:55 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[17.202ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:39:55.635',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:39:55-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"52efb5f3-3d76-47ff-8792-711c56c9dee2","method":"GET","path":"/metrics","status":200,"latency":0.021333,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"4e436528af80777bf09fe34bc77778f9","time":"2025-06-17T21:40:25-04:00","message":"HTTP Request"}

2025/06/17 21:40:25 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[2.715ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:40:25.626',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:40:25-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"8efaa12d-ac6b-4565-832f-a4c4d241f856","method":"GET","path":"/metrics","status":200,"latency":0.066625,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"62593b54e8d9ec4071c8d4c78a74ca76","time":"2025-06-17T21:40:55-04:00","message":"HTTP Request"}

2025/06/17 21:40:55 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[54.417ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:40:55.681',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:40:55-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"10746c50-b754-446e-ab34-956e1ba0acff","method":"GET","path":"/metrics","status":200,"latency":0.055458,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"dafa2b7e6e669027f1b92998183ac4a7","time":"2025-06-17T21:41:25-04:00","message":"HTTP Request"}

2025/06/17 21:41:25 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[15.212ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:41:25.646',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:41:25-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"6e1c30eb-87e5-41f0-8e79-9e5d5f051fad","method":"GET","path":"/metrics","status":200,"latency":0.92575,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"e39d206ce12848ee26f8e385ff824345","time":"2025-06-17T21:41:55-04:00","message":"HTTP Request"}

2025/06/17 21:41:55 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[16.586ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:41:55.65',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:41:55-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"668b98ae-dfb8-4c74-b7b5-7f64efee4c8b","method":"GET","path":"/metrics","status":200,"latency":0.091542,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"e54fedaf425d44b1034e4e28c674abf8","time":"2025-06-17T21:42:25-04:00","message":"HTTP Request"}

2025/06/17 21:42:25 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[4.308ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:42:25.63',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:42:25-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"d4f66135-5fd2-4fe2-93d3-8371e08bdad2","method":"GET","path":"/metrics","status":200,"latency":0.049458,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"f549c4e09295e1bba9a979e1e75e1578","time":"2025-06-17T21:42:55-04:00","message":"HTTP Request"}

2025/06/17 21:42:55 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[5.500ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:42:55.636',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:42:55-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"b77bfed6-553f-4220-9e05-1c4eceaa3630","method":"GET","path":"/metrics","status":200,"latency":0.032292,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"0941f429a7ce6886b3a771dc3601f379","time":"2025-06-17T21:43:25-04:00","message":"HTTP Request"}

2025/06/17 21:43:25 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[3.949ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:43:25.629',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:43:25-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"89d14316-11bd-4a07-9168-0335149194a9","method":"GET","path":"/metrics","status":200,"latency":0.054208,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"132ba67936152866641d956fe1078f65","time":"2025-06-17T21:43:55-04:00","message":"HTTP Request"}

2025/06/17 21:43:55 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[4.295ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:43:55.631',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:43:55-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"9fdd5c5e-be2c-4e5b-b27c-0bdb182f3079","method":"GET","path":"/metrics","status":200,"latency":0.034417,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"223fcab58ac307a08100733538562973","time":"2025-06-17T21:44:25-04:00","message":"HTTP Request"}

2025/06/17 21:44:25 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[2.381ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:44:25.626',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:44:25-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"e46db58b-169f-4d33-97e9-a265c2d689f5","method":"GET","path":"/metrics","status":200,"latency":0.021625,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"535fe10220c034f47510d5b968fca9a6","time":"2025-06-17T21:44:55-04:00","message":"HTTP Request"}

2025/06/17 21:44:55 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[1.793ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:44:55.626',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:44:55-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"b043552e-5bc8-4531-9626-01cf25468376","method":"GET","path":"/metrics","status":200,"latency":0.036667,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"57c69e770f456d046e81ad90ebfbe361","time":"2025-06-17T21:45:25-04:00","message":"HTTP Request"}

2025/06/17 21:45:25 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[1.183ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:45:25.628',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:45:25-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"cb18c087-4422-4dce-9e4a-19ede3b2a96f","method":"GET","path":"/metrics","status":200,"latency":0.025958,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"c2413b2131cd79505027fd7788887f9e","time":"2025-06-17T21:45:55-04:00","message":"HTTP Request"}

2025/06/17 21:45:55 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[1.800ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:45:55.63',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:45:55-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"ca4c41e8-2deb-4d6d-9899-a42d048f4caf","method":"GET","path":"/metrics","status":200,"latency":0.020333,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"8f666c46f9d986c250904eb6b05c4139","time":"2025-06-17T21:46:25-04:00","message":"HTTP Request"}

2025/06/17 21:46:25 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[22.366ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:46:25.645',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:46:25-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"10e54fb7-ffa5-4dca-975e-8ac229e204d6","method":"GET","path":"/metrics","status":200,"latency":0.04625,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"316ddabc43da72ff693f44d0f8ffddef","time":"2025-06-17T21:46:55-04:00","message":"HTTP Request"}

2025/06/17 21:46:55 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[4.277ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:46:55.605',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:46:55-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"c43abb26-36a1-4877-82f5-17cb0c19461c","method":"GET","path":"/metrics","status":200,"latency":0.022,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"e6602e03681abf1108cf994f28d34a89","time":"2025-06-17T21:47:25-04:00","message":"HTTP Request"}

2025/06/17 21:47:25 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[2.471ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:47:25.597',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:47:25-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"1455fc14-aeb0-4ed0-bc0e-2fe72d24ad32","method":"GET","path":"/metrics","status":200,"latency":0.073375,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"7265bd8f9f351dc2d2f6b2f92f078d54","time":"2025-06-17T21:47:55-04:00","message":"HTTP Request"}

2025/06/17 21:47:55 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[14.706ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:47:55.611',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:47:55-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"181aa5bc-9211-4859-96a6-04d35cfab3f7","method":"GET","path":"/metrics","status":200,"latency":0.048041,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"2c0cd74e8b45d65b2bb80fff88d53e54","time":"2025-06-17T21:48:25-04:00","message":"HTTP Request"}

2025/06/17 21:48:25 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[6.595ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:48:25.598',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:48:25-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"3d75b060-d853-40ae-ba3e-689a806a86e1","method":"GET","path":"/metrics","status":200,"latency":0.06425,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"b030207d44c56a0fd063439475ed7ea9","time":"2025-06-17T21:48:55-04:00","message":"HTTP Request"}

2025/06/17 21:48:55 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[6.481ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:48:55.605',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:48:55-04:00","message":"Failed to save audit log"}
{"level":"info","service":"mvp-zero-trust-auth","version":"dev","environment":"development","correlation_id":"c61056c7-e157-4e2a-8175-fb4c4d28b911","method":"GET","path":"/metrics","status":200,"latency":0.040708,"client_ip":"127.0.0.1","user_agent":"Prometheus/2.47.0","tenant_id":"","trace_id":"04fb5dd33d950884154457a770d51adc","time":"2025-06-17T21:49:25-04:00","message":"HTTP Request"}

2025/06/17 21:49:25 [31;1m/Users/lsendel/IdeaProjects/projects/root-zamaz/pkg/auth/middleware.go:247 [35;1mERROR: column "action" of relation "audit_logs" does not exist (SQLSTATE 42703)
[0m[33m[5.115ms] [34;1m[rows:0][0m INSERT INTO "audit_logs" ("created_at","user_id","action","resource","details","ip_address","user_agent","request_id","success","error_msg") VALUES ('2025-06-17 21:49:25.601',NULL,'GET /metrics','api','{"duration_ms":0,"method":"GET","path":"/metrics","status_code":200}','127.0.0.1','Prometheus/2.47.0','',true,'') RETURNING "id"
{"level":"error","service":"mvp-zero-trust-auth","version":"dev","environment":"development","error":"ERROR: column \"action\" of relation \"audit_logs\" does not exist (SQLSTATE 42703)","time":"2025-06-17T21:49:25-04:00","message":"Failed to save audit log"}
make: *** [run-server] Killed: 9
